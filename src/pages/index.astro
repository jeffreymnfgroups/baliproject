---
// src/pages/index.astro - Redesigned Bali Beach Sports & Recreation Facility Landing Page
import Layout from '../layouts/Layout.astro';
import FacilityNavigation from '../components/FacilityNavigation.tsx';
import FacilityHeroSection from '../components/FacilityHeroSection.tsx';
import FacilitySectionsList from '../components/FacilitySectionsList.tsx';
import ContactForm from '../components/ContactForm.tsx';
import { facilitySections } from '../data/facility-sections.js';

const currentPath = Astro.url.pathname;

// Enhanced SEO meta data for the facility
const seoData = {
  title: "Bali Beach Sports & Recreation Facility - World's First Fully Integrated Beach Sports Arena",
  description: "Experience the future of global beach sport and wellness tourism. World-class surf machines, waterpark, extreme sports, wellness centers, and sustainable eco-accommodation in Bali's revolutionary sports destination.",
  keywords: "Bali beach sports, surf arena, URBNSURF, waterpark, extreme sports, wellness center, sustainable tourism, beach volleyball, eSports arena, spa recovery, eco accommodation",
  image: "/og-facility.jpg"
};

// Structured data for the facility
const facilityStructuredData = {
  "@context": "https://schema.org",
  "@type": "TouristAttraction",
  "name": "Bali Beach Sports & Recreation Facility",
  "description": seoData.description,
  "url": "https://www.balibeachsports.com/",
  "address": {
    "@type": "PostalAddress",
    "addressCountry": "Indonesia",
    "addressRegion": "Bali",
    "addressLocality": "Canggu"
  },
  "amenityFeature": facilitySections.map((section) => ({
    "@type": "LocationFeatureSpecification",
    "name": section.name,
    "value": section.headline
  }))
};
---

<Layout 
  title={seoData.title}
  description={seoData.description}
>
  <!-- Structured Data for Facility -->
  <script type="application/ld+json" set:html={JSON.stringify(facilityStructuredData)} />
  
  <FacilityNavigation currentPath={currentPath} client:load />
  
  <!-- Hero Section -->
  <FacilityHeroSection client:load />
  
  <!-- Main Facility Content -->
  <main role="main" aria-label="Bali Beach Sports & Recreation Facility Sections">
    <FacilitySectionsList 
      sections={facilitySections}
      client:load 
    />
  </main>
  
  <!-- Contact Form -->
  <ContactForm projectName="Bali Beach Sports & Recreation Facility" client:load />
</Layout>

<style>
  /* Full-screen immersive design */
  html {
    scroll-behavior: smooth;
  }
  
  body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }
  
  main {
    min-height: 100vh;
  }
  
  /* Performance optimizations */
  * {
    will-change: auto;
  }
  
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
</style>